<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Basketbol Kafa Oyunu</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      overflow: hidden;
      touch-action: none;
      background: #222;
    }
    canvas {
      display: block;
    }
  </style>
</head>
<body>
  <canvas id="gameCanvas"></canvas>
  <script>
    const canvas = document.getElementById('gameCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let kafa = {
      x: canvas.width / 2,
      y: canvas.height - 100,
      radius: 30,
      vx: 0,
      vy: 0,
      gravity: 0.6,
      isDragging: false,
      launched: false
    };

    let dragStart = null;
    let dots = [];

    let pota = {
      x: Math.random() * (canvas.width - 100) + 50,
      y: Math.random() * (canvas.height / 2) + 50,
      width: 60,
      height: 10
    };

    function resetKafa() {
      kafa.x = canvas.width / 2;
      kafa.y = canvas.height - 100;
      kafa.vx = 0;
      kafa.vy = 0;
      kafa.launched = false;
    }

    function update() {
      if (kafa.launched) {
        kafa.vy += kafa.gravity;
        kafa.x += kafa.vx;
        kafa.y += kafa.vy;

        // Basit çarpma kontrolü (pota ile kafa)
        if (
          kafa.x > pota.x &&
          kafa.x < pota.x + pota.width &&
          kafa.y > pota.y &&
          kafa.y < pota.y + pota.height
        ) {
          // Skor arttı! Pota yer değiştiriyor.
          pota.x = Math.random() * (canvas.width - 100) + 50;
          pota.y = Math.random() * (canvas.height / 2) + 50;
          resetKafa();
        }

        // Ekrandan çıkarsa reset
        if (kafa.y > canvas.height || kafa.x < 0 || kafa.x > canvas.width) {
          resetKafa();
        }
      }
    }

    function draw() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);

      // Pota
      ctx.fillStyle = "red";
      ctx.fillRect(pota.x, pota.y, pota.width, pota.height);

      // Kafa
      ctx.fillStyle = "white";
      ctx.beginPath();
      ctx.arc(kafa.x, kafa.y, kafa.radius, 0, Math.PI * 2);
      ctx.fill();

      // Gösterge (nokta nokta çizgi)
      if (kafa.isDragging && dragStart) {
        dots = [];
        let dx = dragStart.x - kafa.x;
        let dy = dragStart.y - kafa.y;
        for (let i = 0; i < 10; i++) {
          let t = i / 10;
          dots.push({
            x: kafa.x + dx * t,
            y: kafa.y + dy * t
          });
        }
        ctx.fillStyle = "cyan";
        for (let dot of dots) {
          ctx.beginPath();
          ctx.arc(dot.x, dot.y, 3, 0, Math.PI * 2);
          ctx.fill();
        }
      }
    }

    function gameLoop() {
      update();
      draw();
      requestAnimationFrame(gameLoop);
    }

    gameLoop();

    // Kontroller
    canvas.addEventListener("pointerdown", e => {
      const dist = Math.hypot(e.clientX - kafa.x, e.clientY - kafa.y);
      if (dist < kafa.radius && !kafa.launched) {
        kafa.isDragging = true;
        dragStart = { x: e.clientX, y: e.clientY };
      }
    });

    canvas.addEventListener("pointermove", e => {
      if (kafa.isDragging) {
        kafa.x = e.clientX;
        kafa.y = e.clientY;
      }
    });

    canvas.addEventListener("pointerup", e => {
      if (kafa.isDragging) {
        let dx = dragStart.x - e.clientX;
        let dy = dragStart.y - e.clientY;
        kafa.vx = dx / 10;
        kafa.vy = dy / 10;
        kafa.launched = true;
        kafa.isDragging = false;
        dragStart = null;
      }
    });
  </script>
</body>
</html>
